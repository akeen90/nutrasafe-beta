const SANITY_PROJECT_ID="fyezlg0y",SANITY_DATASET="production",SANITY_API_VERSION="2024-01-01",SANITY_CDN_URL="https://fyezlg0y.api.sanity.io/v2024-01-01/data/query/production";function sanityImageUrl(t,e={}){if(!t||!t.asset)return"";const n=t.asset._ref||t.asset._id;if(!n)return"";const[,r,a,s]=n.split("-");if(!r)return"";let o=`https://cdn.sanity.io/images/fyezlg0y/production/${r}-${a}.${s}`;const i=[];return e.width&&i.push(`w=${e.width}`),e.height&&i.push(`h=${e.height}`),e.quality&&i.push(`q=${e.quality}`),e.fit&&i.push(`fit=${e.fit}`),e.format&&i.push(`fm=${e.format}`),e.blur&&i.push(`blur=${e.blur}`),e.format||i.push("auto=format"),i.length>0&&(o+="?"+i.join("&")),o}async function sanityFetch(t,e={}){try{let n=`${SANITY_CDN_URL}?query=${encodeURIComponent(t)}`;Object.keys(e).forEach(t=>{n+=`&$${t}="${encodeURIComponent(e[t])}"`});const r=await fetch(n);if(!r.ok)throw new Error(`Sanity fetch failed: ${r.status}`);return(await r.json()).result}catch(t){return console.error("Sanity fetch error:",t),null}}async function getSiteSettings(){return await sanityFetch('*[_type == "siteSettings"][0]')}async function getFAQs(){return await sanityFetch('*[_type == "faq"] | order(category asc, order asc) {\n        _id,\n        question,\n        answer,\n        category,\n        order,\n        isPopular\n    }')}async function getFAQsByCategory(t){return await sanityFetch('*[_type == "faq" && category == $category] | order(order asc) {\n        _id,\n        question,\n        answer,\n        order,\n        isPopular\n    }',{category:t})}async function getPage(t){return await sanityFetch('*[_type == "page" && slug.current == $slug][0] {\n        _id,\n        title,\n        slug,\n        metaTitle,\n        metaDescription,\n        heroSection,\n        features,\n        contentSections,\n        screenshots\n    }',{slug:t})}async function getAllPages(){return await sanityFetch('*[_type == "page"] | order(title asc) {\n        _id,\n        title,\n        slug,\n        metaTitle\n    }')}async function getMediaByCategory(t){return await sanityFetch('*[_type == "mediaImage" && category == $category] | order(title asc) {\n        _id,\n        title,\n        image,\n        alt,\n        caption,\n        tags\n    }',{category:t})}async function getAppScreenshots(){return await getMediaByCategory("screenshots")}async function getBlogPosts(t=10){const e=`*[_type == "blogPost" && isPublished == true] | order(publishedAt desc)[0...${t}] {\n        _id,\n        title,\n        slug,\n        author,\n        publishedAt,\n        featuredImage,\n        excerpt,\n        categories\n    }`;return await sanityFetch(e)}async function getBlogPost(t){return await sanityFetch('*[_type == "blogPost" && slug.current == $slug][0] {\n        _id,\n        title,\n        slug,\n        author,\n        publishedAt,\n        featuredImage,\n        excerpt,\n        body,\n        categories,\n        metaDescription\n    }',{slug:t})}function blocksToHtml(t){return t&&Array.isArray(t)?t.map(t=>{if("block"!==t._type){if("image"===t._type){return`<figure><img src="${sanityImageUrl(t,{width:800})}" alt="${t.alt||""}" loading="lazy"><figcaption>${t.caption||""}</figcaption></figure>`}return""}const e=t.style||"normal";let n=(t.children||[]).map(t=>{let e=t.text||"";return t.marks&&t.marks.length>0&&t.marks.forEach(t=>{"strong"===t&&(e=`<strong>${e}</strong>`),"em"===t&&(e=`<em>${e}</em>`),"code"===t&&(e=`<code>${e}</code>`),"underline"===t&&(e=`<u>${e}</u>`)}),e}).join("");switch(e){case"h1":return`<h1>${n}</h1>`;case"h2":return`<h2>${n}</h2>`;case"h3":return`<h3>${n}</h3>`;case"h4":return`<h4>${n}</h4>`;case"blockquote":return`<blockquote>${n}</blockquote>`;default:return`<p>${n}</p>`}}).join("\n"):""}window.SanityClient={fetch:sanityFetch,imageUrl:sanityImageUrl,getSiteSettings:getSiteSettings,getFAQs:getFAQs,getFAQsByCategory:getFAQsByCategory,getPage:getPage,getAllPages:getAllPages,getMediaByCategory:getMediaByCategory,getAppScreenshots:getAppScreenshots,getBlogPosts:getBlogPosts,getBlogPost:getBlogPost,blocksToHtml:blocksToHtml};